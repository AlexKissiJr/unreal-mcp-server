schemaVersion: "1.0.0"
configSchema:
  type: object
  properties:
    debug:
      type: boolean
      description: "Enable debug logging for the server"
      default: false
    healthCheckInterval:
      type: number
      description: "Interval in seconds between health checks (0 to disable)"
      default: 60
    port:
      type: number
      description: "Port for the TCP server (default: 13378)"
      default: 13378
startCommand:
  function:
    body: |
      const { debug, healthCheckInterval, port } = config;
      
      const env = {
        ...process.env,
      };
      
      if (debug) {
        env.DEBUG = 'true';
      }
      
      if (healthCheckInterval > 0) {
        env.HEALTH_CHECK_INTERVAL = healthCheckInterval.toString();
      }
      
      if (port) {
        env.PORT = port.toString();
      }
      
      return {
        command: "node",
        args: ["src/index.js"],
        env,
      }; 